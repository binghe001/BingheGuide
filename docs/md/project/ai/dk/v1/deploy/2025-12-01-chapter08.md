---
title: 第08节：私有化部署Sealos Cloud+Devbox+Minio
pay: https://articles.zsxq.com/id_uu61szuwmhbv.html
---

# 《实战AI大模型》部署大模型-第08节：私有化部署Sealos Cloud+Devbox+Minio

作者：冰河
<br/>星球：[http://m6z.cn/6aeFbs](http://m6z.cn/6aeFbs)
<br/>博客：[https://binghe.gitcode.host](https://binghe.gitcode.host)
<br/>文章汇总：[https://binghe.gitcode.host/md/all/all.html](https://binghe.gitcode.host/md/all/all.html)
<br/>源码获取地址：[https://t.zsxq.com/0dhvFs5oR](https://t.zsxq.com/0dhvFs5oR)

**大家好，我是冰河~~**

今天我们来深入探讨如何在私有化环境中部署一套完整的AI大模型开发平台。Sealos作为基于Kubernetes的云操作系统发行版，通过集成和封装K8s及常见的分布式应用，让用户能够快速搭建功能完备的云原生应用运行环境，无需深入掌握复杂的K8s底层原理。

Sealos的核心能力包括：

- 集群生命周期管理：一键安装高可用Kubernetes集群，支持节点增删、集群清理和自恢复
- 分布式应用管理：通过sealos hub下载和使用完全兼容OCI标准的各种分布式软件
- 可视化集群管理：通过sealos desktop像使用macOS一样管理整个集群和分布式应用
- 云操作系统抽象：sealos并非单纯的Kubernetes管理器，而是更高层次的云操作系统

## 一、安装ubuntu 25.04

我们选择Ubuntu 25.04桌面版作为基础运行环境。

（1）系统初始配置

完成系统安装后，执行以下基础配置命令：

源码详见：deepseek-case-08工程下的deepseek-case-08/ubuntu/system_init.sh。

```bash
设置root用户密码：
sudo passwd root
 
sudo nano /root/.profile
注释掉： mesg n 2＞ /dev/null || true
添加： tty -s && mesg n || true\
 
修改SSH配置文件
sudo nano /etc/ssh/sshd_config
 
找到 #PermitRootLogin prohibit-password
改为 PermitRootLogin yes
 
sudo systemctl restart ssh
 
重启
sudo reboot
 
启动直接root登录
```

（2）系统参数优化

源码详见：deepseek-case-08工程下的deepseek-case-08/ubuntu/system_params.sh。

```bash
# 如何没有这个文件直接建立就可以
nano /etc/sysctl.conf
 
fs.inotify.max_user_watches = 524288
fs.inotify.max_user_instances = 65536
 
sysctl -p
```

（3）更新/etc/hosts文件

源码详见：deepseek-case-08工程下的deepseek-case-08/ubuntu/system_host.sh。

```bash
更新etc/hosts文件
echo "192.168.1.15 mucuna" | tee -a /etc/hosts
```

（4）修改系统时区。

源码详见：deepseek-case-08工程下的deepseek-case-08/ubuntu/system_time.sh。

```bash
# 调整系统时区
mv /etc/localtime /etc/localtime.bak
cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
```

（5）关闭swap

源码详见：deepseek-case-08工程下的deepseek-case-08/ubuntu/system_swap.sh。

```bash
关闭swap
swapoff -a
sed -ri 's/.*swap.*/#&/' /etc/fstab
```

（6）设置SSH免密登录

源码详见：deepseek-case-08工程下的deepseek-case-08/ubuntu/system_ssh.sh。

```bash
# 生成SSH密钥对
ssh-keygen -t rsa  # 全部回车使用默认值

# 分发公钥到本机
ssh-copy-id -i /root/.ssh/id_rsa.pub root@192.168.1.15
```

## 二、安装部署Sealos

（1）下载脚本

源码详见：deepseek-case-08工程下的deepseek-case-08/sealos/sealos_download.sh。

```bash
# 下载install.sh
curl -sfL https://gh-proxy.com/https://github.com/labring/sealos/blob/main/scripts/cloud/install.sh -o install.sh
```

（2）修改install.sh脚本

根据实际环境需求，对install.sh脚本进行以下关键参数调整：

源码详见：deepseek-case-08工程下的deepseek-case-08/sealos/sealos_install.sh。

```bash
...............
SEALOS_VERSION="latest"
cloud_version="latest"

 .......

 

kubernetes_version=${kubernetes_version:-"1.30.5"}

cilium_version=${cilium_version:-"1.15.8"}   #不能用最新

cert_manager_version=${cert_manager_version:-"1.16.1"}

helm_version=${helm_version:-"3.17.1"}

openebs_version=${openebs_version:-"3.10.0"}

higress_version=${higress_version:-"2.0.6"}

kubeblocks_version=${kubeblocks_version:-"0.8.3"} #不能用最新，要用0.8.*

metrics_server_version=${metrics_server_version:-"0.7.1"}

victoria_metrics_k8s_stack_version=${victoria_metrics_k8s_stack_version:-"1.96.0"}

.......
execute_commands() {
    [[ $k8s_installed == "y" ]] || (get_prompt "k8s_installation" && sealos apply -f $CLOUD_DIR/Clusterfile)
    modify_containerd_config
    command -v helm > /dev/null 2>&1 || sealos run "${image_registry}/${image_repository}/helm:v${helm_version#v:-3.14.1}"
    [[ $k8s_ready == "y" ]] || (get_prompt "cilium_requirement" && sealos run "${image_registry}/${image_repository}/cilium:v${cilium_version#v:-1.15.8}" --env ExtraValues="ipam.mode=kubernetes")
    wait_cluster_ready
    
    # containerd配置用于下载docker.io
    # 参考 /etc/containerd/certs.d/sealos.hub:5000/hosts.toml
    echo "modify_containerd_config start"
    mkdir -p /etc/containerd/certs.d/docker.io
    touch /etc/containerd/certs.d/docker.io/hosts.toml
 
    cat>/etc/containerd/certs.d/docker.io/hosts.toml<<EOF
server = "https://docker.io"
[host."https://docker.m.daocloud.io"]
  capabilities = ["pull", "resolve"]
[host."https://dockerproxy.com/"]
  capabilities = ["pull", "resolve"]
EOF
 
    systemctl restart containerd
    echo "modify_containerd_config end"
```

（3）执行安装命令

源码详见：deepseek-case-08工程下的deepseek-case-08/sealos/sealos_run_install.sh。

```bash
bash install.sh \
--image-registry=registry.cn-shanghai.aliyuncs.com \
--proxy-prefix=https://gh-proxy.com \
--cloud-version=latest
```

成功部署后，终端将显示访问地址信息：

## 查看完整文章

加入[冰河技术](https://public.zsxq.com/groups/48848484411888.html)知识星球，解锁完整技术文章、小册、视频与完整代码


