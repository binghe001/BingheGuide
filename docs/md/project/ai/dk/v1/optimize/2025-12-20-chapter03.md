---
title: 第03节：分离部署Duix.Avatar服务端和客户端
pay: https://articles.zsxq.com/id_wev1i6sw26dl.html
---

# 《实战AI大模型》增强与优化-第03节：分离部署Duix.Avatar服务端和客户端

作者：冰河
<br/>星球：[http://m6z.cn/6aeFbs](http://m6z.cn/6aeFbs)
<br/>博客：[https://binghe.gitcode.host](https://binghe.gitcode.host)
<br/>文章汇总：[https://binghe.gitcode.host/md/all/all.html](https://binghe.gitcode.host/md/all/all.html)
<br/>源码获取地址：[https://t.zsxq.com/0dhvFs5oR](https://t.zsxq.com/0dhvFs5oR)

**大家好，我是冰河~~**

今天，继续带着大家学习《实战AI大模型专栏》，今天带着大家一起部署部署Duix.Avatar服务端和客户端。好了，开始今天的正文。

## 一、Duix.Avatar介绍

Duix.Avatar（ 之前叫作HeyGem）是由 Duix 团队打造的一款免费开源 AI 数字人生成工具。它支持在本地环境中进行部署，也提供 API 调用服务。使用者仅需提供一段约 10  秒的真人视频素材，即可快速克隆出对应的数字人形象与声音。随后，无论是输入文本脚本还是直接上传音频文件，都能驱动该数字人自动生成口型匹配、音画同步的口播视频。

**主要特性包括：**

- **快速克隆能力**：基于约 10 秒的短视频，即可高效完成形象与声音的复刻。
- **灵活的驱动方式**：支持通过输入文案或上传预制音频两种模式，来驱动数字人生成播报视频。
- **完整的离线运行**：所有处理流程均在本地完成，无需连接网络，极大保障了数据隐私与安全性。
- **高品质视频合成**：确保生成的视频中，人物口型与语音高度同步，呈现自然流畅的播报效果。
- **广泛的语言适配**：目前支持包括中文、英语、日语、韩语、法语、德语、阿拉伯语及西班牙语在内的八种语言脚本。

**推荐运行配置参考：**

- **处理器**：英特尔 酷睿 i5-13400F（第13代）或同等性能及以上
- **运行内存**：32 GB 或更高（为保证流程顺畅，建议不低于此容量）
- **图形显卡**：NVIDIA GeForce RTX 4070 或性能相近的型号

## 二、环境准备

### 2.1 安装Docker

**（1）更新APT软件包索引并安装必要的工具**

```bash
apt-get update
apt-get install -y ca-certificates curl gnupg lsb-release
```

**（2）卸载旧版本**

```bash
apt-get remove docker docker-engine docker.io containerd runc
```

**（3）添加Docker官方GPG密钥和APT软件源**

添加Docker的官方GPG密钥，用于验证软件包的完整性。

```bash
mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
```

设置稳定版的Docker APT仓库。

```bash
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
```

**（4）安装Docker Engine及相关组件**

再次更新APT包索引，使其包含新添加的Docker仓库。

```bash
apt-get update
```

安装Docker Engine、命令行工具`docker-cli`以及容器运行时`containerd`。

```bash
apt-get install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
```

### 2.2 安装与管理Docker Compose

从Docker Engine 20.10.0版本开始，官方推荐使用**Docker Compose Plugin**（即`docker-compose-plugin`包）。我们在上一步已经安装了这个插件，它通过 `docker compose` 命令（注意中间没有横线 `-`）来使用。

检查`docker compose`的版本，确认其已正确安装。

```bash
docker compose version
# 或使用完整路径（如果你是sudo用户）
docker compose version
```

如果显示docker compose的版本号，就说明docker compose已经安装成功了。

### 2.3 配置与优化

**（1）以非root用户管理Docker（强烈建议）**

默认需要`sudo`才能运行`docker`命令。为了避免每次都输入`sudo`，可以将你的普通用户加入到`docker`用户组。

```bash
sudo usermod -aG docker $USER
```

**重要**：执行此命令后，需要**完全注销并重新登录**，或者重启系统，这个组权限变更才会生效。之后就可以直接使用 `docker` 和 `docker compose` 命令了。

**（2）配置Docker镜像加速器**

在国内从Docker Hub拉取镜像可能较慢，可以配置国内镜像加速器（例如阿里云、腾讯云、中科大等提供的服务）。编辑Docker的守护进程配置文件（如果文件不存在则新建）：

```bash
nano /etc/docker/daemon.json
```

在文件中添加以下内容（这里以阿里云加速器为例，你可以在阿里云容器镜像服务控制台获取专属加速地址）：

```bash
{
  "registry-mirrors": ["https://your-mirror.mirror.aliyuncs.com"]
}
```

保存文件（按 `Ctrl+X`，然后按 `Y`，最后按 `Enter`），并重启Docker服务使配置生效：

```bash
sudo systemctl restart docker
```

**（3）设置Docker开机自启**

执行如下命令配置Docker在系统启动时自动运行。

```bash
sudo systemctl enable docker.service
sudo systemctl enable containerd.service
```

## 三、部署服务端

打开Duix.Avatar项目的github链接：[https://github.com/duixcom/Duix-Avatar](https://github.com/duixcom/Duix-Avatar ) 

## 查看完整文章

加入[冰河技术](https://public.zsxq.com/groups/48848484411888.html)知识星球，解锁完整技术文章、小册、视频与完整代码